<%@page import="java.util.Enumeration"%>
<%@page import="com.oreilly.servlet.multipart.DefaultFileRenamePolicy"%>
<%@page import="com.oreilly.servlet.MultipartRequest"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%
	String realPath = "";
String savePath = "upload";
String encType = "UTF-8";
int maxSize = 1024 * 1024 * 5; //최대 업로드 파일 크기 - 5MB

//현재 jsp 페이지의 웹 어플리케이션상의 절대 경로 구함
ServletContext context = getServletContext();
realPath = context.getRealPath(savePath + "\\");
out.print("realPath is : " + realPath + " <br>");

try {
	MultipartRequest multi = new MultipartRequest(request, realPath, maxSize, encType, new DefaultFileRenamePolicy());
	
	Enumeration params = multi.getParameterNames();
	
	while(params.hasMoreElements()){
		String name = (String)params.nextElement();
		String value = multi.getParameter(name);
		out.print(name + " / " + value + "<br>");
	}//while end
	
	
} catch (Exception e) {
	e.printStackTrace();
}
%>